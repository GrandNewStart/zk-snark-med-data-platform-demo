{"ast":null,"code":"var _jsxFileName = \"/Users/jinwoo/Documents/Repositories/zkp-med-data-platform/front/src/data_provider_panel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataProviderPanel = () => {\n  _s();\n  const [dataRequestId, setDataRequestId] = useState('');\n  const [dataRequest, setDataRequest] = useState(null);\n  const [value, setValue] = useState('');\n  const [proofs, setProofs] = useState([]);\n  const navigate = useNavigate();\n  const searchDataRequest = async () => {\n    if (!dataRequestId) return;\n    try {\n      const response = await fetch(`http://localhost:3001/data-request/${dataRequestId}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.status === 200) {\n        setDataRequest(await response.json());\n      } else {\n        alert('Data Request not found');\n      }\n    } catch (error) {\n      console.error('Failed to fetch proofs:', error);\n    }\n  };\n  const handleSubmit = async () => {\n    if (value === '') {\n      alert('Please enter a value.');\n      return;\n    }\n    try {\n      await fetch('http://localhost:3001/data-response', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data_request_id: dataRequestId,\n          user_id: 'dp123',\n          data_type: 'blood_pressure',\n          value\n        })\n      });\n      setValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleDownload = item => {\n    const blob = new Blob([JSON.stringify(item, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${item.id}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginTop: '100px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '20px',\n        left: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        style: {\n          padding: '6px 12px',\n          borderRadius: '4px',\n          fontSize: '14px',\n          backgroundColor: '#ccc',\n          border: 'none',\n          cursor: 'pointer'\n        },\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Data Provider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"data type: blood_pressure\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"data_request_id: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: dataRequestId,\n        onChange: e => setDataRequestId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: searchDataRequest,\n        style: {\n          marginLeft: '10px',\n          padding: '8px 16px',\n          borderRadius: '6px',\n          fontSize: '14px',\n          backgroundColor: '#1976d2',\n          color: 'white',\n          border: 'none',\n          cursor: 'pointer'\n        },\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), dataRequest !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"value: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: value,\n        onChange: e => setValue(Number(e.target.value))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        style: {\n          marginLeft: '10px',\n          padding: '8px 16px',\n          borderRadius: '6px',\n          fontSize: '14px',\n          backgroundColor: '#388e3c',\n          color: 'white',\n          border: 'none',\n          cursor: 'pointer'\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(DataProviderPanel, \"a9Vd1RkMiqCzYyr+QqbJYMasEPM=\", false, function () {\n  return [useNavigate];\n});\n_c = DataProviderPanel;\nexport default DataProviderPanel;\nvar _c;\n$RefreshReg$(_c, \"DataProviderPanel\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","DataProviderPanel","_s","dataRequestId","setDataRequestId","dataRequest","setDataRequest","value","setValue","proofs","setProofs","navigate","searchDataRequest","response","fetch","method","headers","status","json","alert","error","console","handleSubmit","body","JSON","stringify","data_request_id","user_id","data_type","handleDownload","item","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","id","click","revokeObjectURL","style","textAlign","marginTop","children","position","top","left","onClick","padding","borderRadius","fontSize","backgroundColor","border","cursor","fileName","_jsxFileName","lineNumber","columnNumber","margin","onChange","e","target","marginLeft","color","Number","_c","$RefreshReg$"],"sources":["/Users/jinwoo/Documents/Repositories/zkp-med-data-platform/front/src/data_provider_panel.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Proof } from './types/proof';\nimport { useNavigate } from 'react-router-dom';\nimport { DataRequest } from './types/data_request';\n\nconst DataProviderPanel: React.FC = () => {\n  const [dataRequestId, setDataRequestId] = useState<string>('');\n  const [dataRequest, setDataRequest] = useState<DataRequest | null>(null);\n  const [value, setValue] = useState<number | ''>('');\n  const [proofs, setProofs] = useState<Proof[]>([]);\n  const navigate = useNavigate();\n\n  const searchDataRequest = async () => {\n    if (!dataRequestId) return;\n    try {\n      const response = await fetch(\n        `http://localhost:3001/data-request/${dataRequestId}`,\n        {\n          method: 'GET',\n          headers: { 'Content-Type':'application/json'}\n        }\n      );\n      if (response.status === 200) {\n        setDataRequest(await response.json());\n      } else {\n        alert('Data Request not found')\n      }\n    } catch (error) {\n      console.error('Failed to fetch proofs:', error);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (value === '') {\n      alert('Please enter a value.');\n      return;\n    }\n\n    try {\n      await fetch('http://localhost:3001/data-response', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data_request_id: dataRequestId,\n          user_id: 'dp123',\n          data_type: 'blood_pressure',\n          value\n        })\n      });\n      setValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDownload = (item: Proof) => {\n    const blob = new Blob([JSON.stringify(item, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${item.id}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '100px' }}>\n      <div style={{ position: 'absolute', top: '20px', left: '20px' }}>\n        <button\n          onClick={() => navigate('/')}\n          style={{\n            padding: '6px 12px',\n            borderRadius: '4px',\n            fontSize: '14px',\n            backgroundColor: '#ccc',\n            border: 'none',\n            cursor: 'pointer'\n          }}\n        >\n          ‚Üê Back\n        </button>\n      </div>\n      <h2>Data Provider</h2>\n      <h4>data type: blood_pressure</h4>\n\n      <div style={{ margin: '20px' }}>\n        <label>data_request_id: </label>\n        <input\n          type=\"text\"\n          value={dataRequestId}\n          onChange={(e) => setDataRequestId(e.target.value)}\n        />\n        <button\n          onClick={searchDataRequest}\n          style={{\n            marginLeft: '10px',\n            padding: '8px 16px',\n            borderRadius: '6px',\n            fontSize: '14px',\n            backgroundColor: '#1976d2',\n            color: 'white',\n            border: 'none',\n            cursor: 'pointer'\n          }}\n        >\n          Search\n        </button>\n      </div>\n\n      { dataRequest !== null && (\n          <div style={{ margin: '20px' }}>\n          <label>value: </label>\n          <input\n            type=\"number\"\n            value={value}\n            onChange={(e) => setValue(Number(e.target.value))}\n          />\n          <button\n            onClick={handleSubmit}\n            style={{\n              marginLeft: '10px',\n              padding: '8px 16px',\n              borderRadius: '6px',\n              fontSize: '14px',\n              backgroundColor: '#388e3c',\n              color: 'white',\n              border: 'none',\n              cursor: 'pointer'\n            }}\n          >\n            Submit\n          </button>\n        </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default DataProviderPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}